---
import Icon from './Icon';
import '../styles/TopBar.css';
---

<nav class="topbar">
  <div class="topbar__container">
    <div class="topbar__content">
      <a href="/" class="topbar__title-wrap">
        <div class="topbar__title topbar__title--hindi">सृष्टि</div>
        <div class="topbar__title">|</div>
        <div class="topbar__title">Shristi Gautam</div>
      </a>
      <div class="topbar__links">
        <a href="/blog" class="topbar__link" title="Blog" aria-label="Blog">
          <span class="topbar__icon">
            <Icon name="notes" client:load />
          </span>
        </a>
        <a href="/labs" class="topbar__link" title="Labs" aria-label="Labs">
          <span class="topbar__icon">
            <Icon name="lab" client:load />
          </span>
        </a>
        <a href="/paper-dive-ins" class="topbar__link" title="Paper Dive-Ins" aria-label="Paper Dive-Ins">
          <span class="topbar__icon">
            <Icon name="paper" client:load />
          </span>
        </a>
        <a href="/newsletter" class="topbar__link" title="Newsletter – In the Margins of AI" aria-label="Newsletter">
          <span class="topbar__icon">
            <Icon name="newsletter" client:load />
          </span>
        </a>
        <a href="/" class="topbar__link" title="About" aria-label="About">
          <span class="topbar__icon">
            <Icon name="contact" client:load />
          </span>
        </a>
        <button 
          type="button"
          class="topbar__link topbar__theme-toggle" 
          id="theme-toggle"
          aria-label="Toggle dark mode"
          title="Toggle dark mode"
        >
          <span class="topbar__icon topbar__icon--moon">
            <Icon name="moon" client:load />
          </span>
          <span class="topbar__icon topbar__icon--sun" style="display: none;">
            <Icon name="sun" client:load />
          </span>
        </button>
      </div>
    </div>
  </div>
</nav>

<script is:inline>
  (function() {
    const themeToggle = document.getElementById('theme-toggle');
    const getTheme = function() {
      const saved = localStorage.getItem('theme');
      return saved || 'dark';
    };
    const setTheme = function(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
      if (themeToggle) themeToggle.setAttribute('data-theme', theme);
    };
    setTheme(getTheme());
    themeToggle && themeToggle.addEventListener('click', function() {
      const current = document.documentElement.getAttribute('data-theme') || 'light';
      setTheme(current === 'dark' ? 'light' : 'dark');
    });
  })();
</script>
