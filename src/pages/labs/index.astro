---
import Layout from '../../layouts/Layout.astro';
import TopBar from '../../components/TopBar.astro';
import Breadcrumb from '../../components/Breadcrumb.astro';
import { getCollection } from 'astro:content';
import { getCoverImageUrl } from '../../utils/coverImage.ts';
import '../../styles/page-labs.css';

const title = "Labs";
const description = "AI experiments and projects—ScholarScout, tutorAI, and more.";
const labs = await getCollection('labs');
---

<Layout title={`${title} - Shristi Gautam`} description={description} ogImage="/assets/bio-image.jpg">
  <TopBar />
  <Breadcrumb items={[
    { label: 'Home', href: '/' },
    { label: 'Labs' }
  ]} />
  <div class="page-container page-labs-container">
    <header class="page-labs-header app-struct">
      <h1 class="page-title page-labs-title">{title}</h1>
      <p class="page-labs-intro">
        Some of the tools that I have built.
      </p>
    </header>
    <div class="page-labs-grid">
      {labs.map((entry) => (
        <a href={`/labs/${entry.slug}`} class="page-labs-card app-struct">
          <div class="page-labs-card-image-wrap">
            <img src={getCoverImageUrl('labs', entry.slug)} alt="" class="page-labs-card-image" loading="lazy" />
          </div>
          <div class="page-labs-card-body">
            <h2 class="page-labs-card-title">{entry.data.title}</h2>
            <p class="page-labs-card-description">{entry.data.description}</p>
            <dl class="page-labs-card-dates">
              {entry.data.createdDate && (
                <div class="page-labs-card-date-item">
                  <dt>Created</dt>
                  <dd>{entry.data.createdDate}</dd>
                </div>
              )}
              {entry.data.updatedDate && (
                <div class="page-labs-card-date-item">
                  <dt>Updated</dt>
                  <dd>{entry.data.updatedDate}</dd>
                </div>
              )}
            </dl>
            <span class="page-labs-card-link">View project →</span>
          </div>
        </a>
      ))}
    </div>
  </div>
</Layout>
